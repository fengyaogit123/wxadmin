webpackJsonp([2],{IBPZ:function(t,e,n){t.exports=function(t){var e={};function n(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=231)}({0:function(t,e){t.exports=function(t,e,n,s,r){var a,i=t=t||{},o=typeof t.default;"object"!==o&&"function"!==o||(a=t,i=t.default);var c,l="function"==typeof i?i.options:i;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns),s&&(l._scopeId=s),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):n&&(c=n),c){var u=l.functional,d=u?l.render:l.beforeCreate;u?l.render=function(t,e){return c.call(e),d(t,e)}:l.beforeCreate=d?[].concat(d,c):[c]}return{esModule:a,exports:i,options:l}}},121:function(t,e){},150:function(t,e,n){var s=n(0)(n(72),n(191),function(t){n(121)},null,null);t.exports=s.exports},191:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mint-radiolist",on:{change:function(e){t.$emit("change",t.currentValue)}}},[n("label",{staticClass:"mint-radiolist-title",domProps:{textContent:t._s(t.title)}}),t._v(" "),t._l(t.options,function(e){return n("x-cell",[n("label",{staticClass:"mint-radiolist-label",slot:"title"},[n("span",{staticClass:"mint-radio",class:{"is-right":"right"===t.align}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],staticClass:"mint-radio-input",attrs:{type:"radio",disabled:e.disabled},domProps:{value:e.value||e,checked:t._q(t.currentValue,e.value||e)},on:{__c:function(n){t.currentValue=e.value||e}}}),t._v(" "),n("span",{staticClass:"mint-radio-core"})]),t._v(" "),n("span",{staticClass:"mint-radio-label",domProps:{textContent:t._s(e.label||e)}})])])})],2)},staticRenderFns:[]}},231:function(t,e,n){t.exports=n(39)},3:function(t,e){t.exports=n("7YS2")},39:function(t,e,n){"use strict";var s=n(150),r=n.n(s);Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",function(){return r.a})},4:function(t,e){t.exports=n("lrMw")},72:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),r=n.n(s);n(4),e.default={name:"mt-radio",props:{title:String,align:String,options:{type:Array,required:!0},value:String},data:function(){return{currentValue:this.value}},watch:{value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("input",t)}},components:{XCell:r.a}}}})},bfVN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("34+y");var s=n("X+yh"),r=n.n(s),a=n("Xxa5"),i=n.n(a),o=(n("OgVB"),n("/Lyv")),c=n.n(o),l=(n("qONS"),n("UQTY")),u=n.n(l),d=n("exGp"),f=n.n(d),p=(n("goBr"),n("IBPZ")),m=n.n(p),h=(n("y+mr"),n("3JdW")),v=n.n(h),_=(n("f1Vh"),n("ZQVe")),g=n.n(_),b=n("ye8Q"),x={name:"addUser",components:{Input:g.a,Button:v.a,Radio:m.a},data:function(){return{codesrc:"",disabled:!0,forms:{name:"",phone:"",address:"",sex:"",password:"",code:""}}},created:function(){this.initCode()},methods:{initCode:function(){this.codesrc="/api/login/checkcode?t_="+ +new Date},submit:function(){var t=this;return f()(i.a.mark(function e(){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.validate("msg")){e.next=20;break}return t.disabled=!0,u.a.open(),e.prev=4,e.next=7,b.a(t.$QS.stringify(t.forms));case 7:n=e.sent,n.data,u.a.close(),c.a.alert("注册完成，立即登录！").then(function(e){t.$router.replace({name:"Login"})}),t.disabled=!1,e.next=20;break;case 14:e.prev=14,e.t0=e.catch(4),u.a.close(),t.forms.code="",t.initCode(),t.disabled=!1;case 20:case"end":return e.stop()}},e,t,[[4,14]])}))()},change:function(){var t=this.validate();this.disabled=!t},validate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=function(e){t&&r()(e)};return this.forms.name?this.forms.phone?/^[0-9]{11}$/.test(this.forms.phone)?this.forms.address?this.forms.sex?this.forms.password?/^[A-Za-z0-9]{6,20}$/.test(this.forms.password)?this.forms.code?4===this.forms.code.length:(e("请输入验证码"),!1):(e("密码格式不正确（6-20位英文字母、数字）"),!1):(e("请设置密码"),!1):(e("请选择性别"),!1):(e("请输入地址"),!1):(e("手机号格式不正确"),!1):(e("请输入手机号"),!1):(e("请输入姓名"),!1)}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-wrap",attrs:{id:"addUser"}},[n("div",{staticClass:"login-title"},[n("div",{staticClass:"title-pan"},[n("span",{on:{click:function(e){t.$router.push({name:"Login"})}}},[t._v("请登录")])]),t._v(" "),t._m(0)]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),n("div",{staticClass:"login-form"},[n("div",{staticClass:"login-inner"},[n("Input",{staticClass:"margin-bottom",attrs:{label:"",placeholder:"请输姓名"},on:{input:t.change},model:{value:t.forms.name,callback:function(e){t.$set(t.forms,"name",e)},expression:"forms.name"}}),t._v(" "),n("Input",{staticClass:"margin-bottom",attrs:{attr:{maxlength:11},label:"",placeholder:"请输手机号"},on:{input:t.change},model:{value:t.forms.phone,callback:function(e){t.$set(t.forms,"phone",e)},expression:"forms.phone"}}),t._v(" "),n("Input",{staticClass:"margin-bottom",attrs:{attr:{maxlength:50},label:"",placeholder:"请输入地址"},on:{input:t.change},model:{value:t.forms.address,callback:function(e){t.$set(t.forms,"address",e)},expression:"forms.address"}})],1)]),t._v(" "),n("div",{staticClass:"login-form"},[n("div",{staticClass:"login-inner"},[n("Radio",{staticClass:"sex-item margin-bottom",attrs:{title:"",options:["男","女"]},on:{input:t.change},model:{value:t.forms.sex,callback:function(e){t.$set(t.forms,"sex",e)},expression:"forms.sex"}}),t._v(" "),n("Input",{staticClass:"margin-bottom",attrs:{type:"password",attr:{maxlength:20,minlength:6},label:"",placeholder:"请设置密码（6-20位英文字母、数字）"},on:{input:t.change},model:{value:t.forms.password,callback:function(e){t.$set(t.forms,"password",e)},expression:"forms.password"}}),t._v(" "),n("Input",{attrs:{attr:{maxlength:4},label:"",placeholder:"请输入验证码"},on:{input:t.change},model:{value:t.forms.code,callback:function(e){t.$set(t.forms,"code",e)},expression:"forms.code"}},[n("img",{staticClass:"check-code",attrs:{src:t.codesrc,height:"45px",width:"100px"},on:{click:t.initCode}})])],1)]),t._v(" "),n("div",{staticClass:"submit-box"},[n("Button",{staticClass:"margin-bottom",staticStyle:{width:"100%",background:"#868686"},attrs:{type:"default"},on:{click:function(e){t.$router.push({name:"Login"})}}},[t._v("已有账号，直接登录")]),t._v(" "),n("Button",{staticStyle:{width:"100%"},attrs:{disabled:t.disabled,type:"default"},on:{click:t.submit}},[t._v("提交注册")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title-pan"},[e("span",{staticClass:"title-active"},[this._v("立即注册")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-sub"},[e("img",{attrs:{width:"114",src:"static/imgs/logo.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login-title-sub"},[e("p",[this._v("欢迎登录预约排号系统")])])}]};var w=n("VU/8")(x,C,!1,function(t){n("dkaf")},null,null);e.default=w.exports},dkaf:function(t,e){},goBr:function(t,e){},ye8Q:function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});var s,r,a,i=n("Xxa5"),o=n.n(i),c=n("exGp"),l=n.n(c),u=n("vLgD"),d=(s=l()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.a)({url:"/api/login",method:"post",data:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(t){return s.apply(this,arguments)}),f=(r=l()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.a)({url:"/api/loginOut",method:"post"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),a=l()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.a)({url:"/api/users/create",method:"post",data:e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(t){return a.apply(this,arguments)})}});